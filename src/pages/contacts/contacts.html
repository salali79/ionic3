<!--
  Generated template for the ContactsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header color="primary">

  <ion-navbar>
    <ion-title>Contacts</ion-title>
  </ion-navbar>
  <ion-toolbar>
    <ion-searchbar [(ngModel)]="searchInput"
                   (ionInput)="goSearchResult($event)"
                   class="hj-search-bar"
                   placeholder="姓名/电话"
                   autocomplete="on"
                   mode='ios'
                   showCancelButton='true'
                   cancelButtonText="取消" (ionCancel)="onCancelSearch($event)">
    </ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <!--useful start-->
  <div class="letter" *ngIf="!isSearching" >
    <div class="letter-right">
      <span *ngFor="let letter of letters" (click)="scrollToTop(letter)">{{letter}}</span>
    </div>
  </div>

  <!--搜索结果-->
  <ion-list *ngIf="!isSearching">
    <ion-item-group *ngFor="let contacts of searchingItems;let i=indx">
      <ion-item-divder color="light" id="{{searchLetters[i]}}">{{searchLetters[i]}}</ion-item-divder>
      <ion-item *ngFor="let contact of contacts">
        <ion-avatar item-star>
          <section>{{contact.userName| character}}</section>
        </ion-avatar>
      </ion-item>
    </ion-item-group>
  </ion-list>
  <!--未搜索结果-->
  <ion-list *ngIf="!isSearching">
    <ion-item-group *ngFor="let contacts of searchingItems;let i=indx">
      <ion-item-divder color="light" id="{{searchLetters[i]}}">{{searchLetters[i]}}</ion-item-divder>
      <ion-item *ngFor="let contact of contacts">
        <ion-avatar item-star>
          <section>{{contact.userName| character}}</section>
        </ion-avatar>
       <!-- <h2 [innerHTML]="contact.userName| keyword:searchInput"></h2>-->
        <h2 [innerHTML]="contact.userName"></h2>
      </ion-item>
    </ion-item-group>
  </ion-list>

</ion-content>
